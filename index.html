<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Advanced Secure Notepad + Vault</title>
  <style>
    :root {
      --bg-dark: #111;
      --text-light: #f1f1f1;
      --primary: #00ff88;
      --danger: #ff4444;
    }
    body {
      font-family: monospace;
      margin: 0;
      background: var(--bg-dark);
      color: var(--text-light);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }
    h1 {
      margin-bottom: 10px;
    }
    #loginPanel, #mainPanel, #vaultPanel, #archivePanel {
      display: none;
      width: 100%;
      max-width: 700px;
    }
    .visible {
      display: block !important;
    }
    .section {
      background: #222;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 10px;
    }
    textarea {
      width: 100%;
      height: 200px;
      background: #000;
      color: #0f0;
      padding: 10px;
      border: 2px solid var(--primary);
      border-radius: 6px;
    }
    input[type="text"], input[type="password"] {
      width: 100%;
      padding: 10px;
      margin: 5px 0;
      border-radius: 5px;
      border: 1px solid #555;
      background: #000;
      color: #0f0;
    }
    button {
      padding: 10px 15px;
      margin: 5px;
      background: var(--primary);
      border: none;
      color: black;
      font-weight: bold;
      border-radius: 5px;
      cursor: pointer;
    }
    .danger {
      background: var(--danger);
      color: white;
    }
    #cameraPreview {
      display: none;
      width: 100%;
      max-height: 200px;
      border-radius: 10px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <h1>Advanced Secure Notepad + Vault</h1>  <div id="loginPanel" class="visible">
    <div class="section">
      <p>üîí Face ID Simulation + Password + One-Time PIN</p>
      <video id="cameraPreview" autoplay muted></video>
      <input type="password" id="mainPassword" placeholder="Enter Password" />
      <input type="text" id="pinCode" placeholder="Enter One-Time PIN" />
      <button onclick="startFaceScan()">Scan Face</button>
      <button onclick="unlockMain()">Unlock</button>
    </div>
  </div>  <div id="mainPanel">
    <div class="section">
      <h3>üìù Notepad</h3>
      <textarea id="noteArea" placeholder="Write your notes here..."></textarea>
      <button onclick="exportNote()">Export</button>
      <button class="danger" onclick="clearNote()">Clear</button>
      <button onclick="saveToArchive()">Save to Archive</button>
    </div>
    <div class="section">
      <h3>üîê Vault</h3>
      <button onclick="showVault()">Access Vault</button>
      <button onclick="showArchive()">View Archive (Secure)</button>
    </div>
    <div class="section">
      <h3>üîß Change Password</h3>
      <input type="password" id="oldPass" placeholder="Old Password" />
      <input type="password" id="newPass" placeholder="New Password" />
      <button onclick="changePassword()">Update Password</button>
    </div>
  </div>  <div id="vaultPanel">
    <div class="section">
      <p>üîë Re-enter Password to access vault</p>
      <input type="password" id="vaultPass" placeholder="Enter Password Again" />
      <button onclick="unlockVault()">Unlock Vault</button>
    </div>
    <div class="section" id="vaultData" style="display: none;">
      <h4>üîê Password Vault</h4>
      <h5>üìß Gmail Accounts</h5>
      <div id="gmailInputs"></div>
      <h5>üìò Facebook Accounts</h5>
      <div id="fbInputs"></div>
      <h5>üåê Website Accounts</h5>
      <div id="webInputs"></div>
      <h5>üí≥ Credit Card / Secret Notes</h5>
      <input type="text" id="creditcard" placeholder="Credit Card PIN / Password" />
      <input type="text" id="secretnotes" placeholder="Secret Notes" /><br />
      <button onclick="saveVault()">Save</button>
    </div>
  </div>  <div id="archivePanel">
    <div class="section">
      <h3>üóÇÔ∏è Archived Notes</h3>
      <p><strong>Note:</strong> PIN is required only once. Store it securely!</p>
      <input type="password" id="archivePassword" placeholder="Enter Password" />
      <input type="text" id="archivePin" placeholder="Enter One-Time PIN" />
      <button onclick="unlockArchive()">Unlock Archive</button>
      <div id="archiveContent" style="display: none;"></div>
    </div>
  </div>  <script>
    let currentPassword = localStorage.getItem("secure_pass") || "1234";
    const oneTimePIN = localStorage.getItem("one_time_pin") || generatePin();
    localStorage.setItem("one_time_pin", oneTimePIN);

    const noteArea = document.getElementById("noteArea");
    const savedNote = localStorage.getItem("secure_note");
    if (savedNote) noteArea.value = savedNote;

    function generatePin() {
      const pin = Math.floor(100000 + Math.random() * 900000).toString();
      alert("Your One-Time PIN: " + pin + "\nSave this securely. It won't show again!");
      return pin;
    }

    function startFaceScan() {
      navigator.mediaDevices.getUserMedia({ video: true })
        .then(stream => {
          camera.srcObject = stream;
          camera.style.display = "block";
        })
        .catch(() => alert("Camera not accessible"));
    }

    function unlockMain() {
      const pass = document.getElementById("mainPassword").value;
      const pin = document.getElementById("pinCode").value;
      if (pass === currentPassword && pin === oneTimePIN) {
        document.getElementById("loginPanel").classList.remove("visible");
        document.getElementById("mainPanel").classList.add("visible");
        if (camera.srcObject) camera.srcObject.getTracks().forEach(t => t.stop());
        camera.style.display = "none";
      } else {
        alert("Incorrect password or PIN");
      }
    }

    noteArea.oninput = () => {
      localStorage.setItem("secure_note", noteArea.value);
    };

    function exportNote() {
      const blob = new Blob([noteArea.value], { type: "text/plain" });
      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = "note.txt";
      a.click();
    }

    function clearNote() {
      if (confirm("Clear note?")) {
        noteArea.value = "";
        localStorage.removeItem("secure_note");
      }
    }

    function saveToArchive() {
      let notes = JSON.parse(localStorage.getItem("archive") || "[]");
      notes.push({ time: new Date().toLocaleString(), content: noteArea.value });
      localStorage.setItem("archive", JSON.stringify(notes));
      alert("Note archived");
    }

    function showVault() {
      document.getElementById("mainPanel").classList.remove("visible");
      document.getElementById("vaultPanel").classList.add("visible");
    }

    function unlockVault() {
      const pass = document.getElementById("vaultPass").value;
      if (pass === currentPassword) {
        const data = JSON.parse(localStorage.getItem("vault") || "{}");
        document.getElementById("vaultData").style.display = "block";
        createInputs("gmailInputs", data.gmail, 10);
        createInputs("fbInputs", data.facebook, 10);
        createInputs("webInputs", data.web, 5);
        document.getElementById("creditcard").value = data.creditcard || "";
        document.getElementById("secretnotes").value = data.secretnotes || "";
      } else {
        alert("Wrong password");
      }
    }

    function createInputs(id, values = [], count) {
      const container = document.getElementById(id);
      container.innerHTML = "";
      for (let i = 0; i < count; i++) {
        const input = document.createElement("input");
        input.type = "text";
        input.placeholder = `Entry ${i+1}`;
        input.value = values[i] || "";
        container.appendChild(input);
      }
    }

    function saveVault() {
      const gmail = [...document.getElementById("gmailInputs").children].map(i => i.value);
      const facebook = [...document.getElementById("fbInputs").children].map(i => i.value);
      const web = [...document.getElementById("webInputs").children].map(i => i.value);
      const creditcard = document.getElementById("creditcard").value;
      const secretnotes = document.getElementById("secretnotes").value;
      const data = { gmail, facebook, web, creditcard, secretnotes };
      localStorage.setItem("vault", JSON.stringify(data));
      alert("Vault saved");
    }

    function changePassword() {
      const oldPass = document.getElementById("oldPass").value;
      const newPass = document.getElementById("newPass").value;
      if (oldPass === currentPassword) {
        localStorage.setItem("secure_pass", newPass);
        currentPassword = newPass;
        alert("Password changed");
      } else {
        alert("Incorrect old password");
      }
    }

    function showArchive() {
      document.getElementById("mainPanel").classList.remove("visible");
      document.getElementById("archivePanel").classList.add("visible");
    }

    function unlockArchive() {
      const pass = document.getElementById("archivePassword").value;
      const pin = document.getElementById("archivePin").value;
      if (pass === currentPassword && pin === oneTimePIN) {
        const notes = JSON.parse(localStorage.getItem("archive") || "[]");
        let html = "<ul>";
        notes.forEach(n => {
          html += `<li><strong>${n.time}:</strong><br><pre>${n.content}</pre></li>`;});
    html += "</ul>";
    document.getElementById("archiveContent").innerHTML = html;
    document.getElementById("archiveContent").style.display = "block";
  } else {
    alert("Wrong password or PIN");
  }
}

  </script>
</body>
</html>
